!function(n,t){"function"==typeof define&&define.amd?define(t):"object"==typeof module&&module.exports?module.exports=n.Pikanum=t():n.Pikanum=t()}(this,function(n){var t=window.document,e=!!window.addEventListener,o={containerClass:null,controlsClass:null,controlsLocation:"after",defaultNum:0,disabled:!1,field:null,fieldClass:null,min:-1,max:-1,readonly:!1,step:1,onChange:null,onDecrement:null,onIncrement:null},i=function(n,t,o){e?n.addEventListener(t,o):n.attachEvent("on"+t,o)},s=function(n,t,o){e?n.removeEventListener(t,o):n.detachEvent("on"+t,o)},a=function(n,e,o){var s=t.createElement("div");s.innerHTML='<button type="button">'+n+"</button>";var a=s.firstChild;return a.className="pikanum-controls "+e,i(a,"click",o),a},l=function(n){this.config(n);this.init()};return l.prototype={constructor:l,init:function(){var n=this._o;n.field;this.setValue(n.defaultNum,!0),this.render()},destroy:function(){s(this._dec,"click",this.decrement),s(this._inc,"click",this.increment),this._container.parentNode&&this._container.parentNode.removeChild(this._container)},config:function(n){return this._o=o,opt=this._o,opt.containerClass=n.containerClass?n.containerClass:opt.containerClass,opt.controlsClass=n.controlsClass?n.controlsClass:opt.controlsClass,opt.controlsLocation=n.controlsLocation?n.controlsLocation:opt.controlsLocation,opt.defaultNum=n.defaultNum?n.defaultNum:opt.defaultNum,opt.disabled=n.disabled?n.disabled:opt.disabled,opt.field=n.field&&n.field.nodeName?n.field:opt.field,opt.fieldClass=n.fieldClass?n.fieldClass:opt.fieldClass,opt.min=n.min?n.min:opt.min,opt.max=n.max?n.max:opt.max,opt.readonly=n.readonly?n.readonly:opt.readonly,opt.step=n.step?n.step:opt.step,opt.onChange=n.onChange?n.onChange:opt.onChange,opt.onDecrement=n.onDecrement?n.onDecrement:opt.onDecrement,opt.onIncrement=n.onIncrement?n.onIncrement:opt.onIncrement,opt},decrement:function(){var n=this._o;this.setValue(this.getValue()-n.step,!1,this.notifyOnDecrement.bind(this))},increment:function(){var n=this._o;this.setValue(this.getValue()+n.step,!1,this.notifyOnIncrement.bind(this))},getValue:function(n){var t=this._o,e=t.field,o=parseInt(e.value);return isNaN(o)&&(o=t.defaultNum),o},setValue:function(n,t,e){var o=this._o,i=o.field;(o.min<0||o.min&&n>=o.min)&&(o.max<0||o.max&&n<=o.max)&&(i.value=n,t||this.notifyOnChange(n),"function"==typeof e&&e(n))},getSetValue:function(){this.setValue(this.getValue())},notifyOnChange:function(n){var t=this._o;"function"==typeof t.onChange&&t.onChange(n)},notifyOnDecrement:function(n){var t=this._o;"function"==typeof t.onDecrement&&t.onDecrement(n)},notifyOnIncrement:function(n){var t=this._o;"function"==typeof t.onIncrement&&t.onIncrement(n)},render:function(){var n=this._o,e=n.field,o=e.display;e.display="none";var s,l,r,c,d,u=(s=n.containerClass,(l=t.createElement("div")).className="pikanum-container ",s&&(l.className+=s),l);r=e,c=n.fieldClass,d=this.getSetValue.bind(this),r.className+=" pikanum-field "+c,i(r,d),(e=r).parentNode.insertBefore(u,e),u.appendChild(e);var f,m,p,h,C,v,y=(h=n.controlsClass,C=this.decrement.bind(this),v="pikanum-controls-dec ",h&&(v+=h),a("&minus;",v,C)),g=(f=n.controlsClass,m=this.increment.bind(this),p="pikanum-controls-inc ",f&&(p+=f),a("&plus;",p,m));e.parentNode.insertBefore(y,"after"===n.controlsLocation?e.nextSibling:e),e.parentNode.insertBefore(g,"after"===n.controlsLocation?e.nextSibling:e),e.display=o,this._container=u,this._dec=y,this._inc=g}},l});