!function(t,n){"function"==typeof define&&define.amd?define(n):"object"==typeof module&&module.exports?module.exports=t.Pikanum=n():t.Pikanum=n()}(this,function(t){var n=window.document,e=!!window.addEventListener,o={containerClass:null,controlsClass:null,controlsLocation:"after",controlsSymbolDecrement:"&minus;",controlsSymbolIncrement:"&plus;",defaultNum:0,disabled:!1,field:null,fieldClass:null,min:-1,max:-1,readonly:!1,step:1,onChange:null,onDecrement:null,onIncrement:null},i=function(t,n,o){e?t.addEventListener(n,o):t.attachEvent("on"+n,o)},s=function(t,n,o){e?t.removeEventListener(n,o):t.detachEvent("on"+n,o)},a=function(t,e,o){var s=n.createElement("div");s.innerHTML='<button type="button">'+t+"</button>";var a=s.firstChild;return a.className="pikanum-controls "+e,i(a,"click",o),a},l=function(t){this.config(t);this.init()};return l.prototype={constructor:l,init:function(){var t=this._o;t.field;this.setValue(t.defaultNum,!0),this.render()},destroy:function(){s(this._dec,"click",this.decrement),s(this._inc,"click",this.increment),this._container.parentNode&&this._container.parentNode.removeChild(this._container)},config:function(t){return this._o=o,opt=this._o,opt.containerClass=t.containerClass?t.containerClass:opt.containerClass,opt.controlsClass=t.controlsClass?t.controlsClass:opt.controlsClass,opt.controlsLocation=t.controlsLocation?t.controlsLocation:opt.controlsLocation,opt.defaultNum=t.defaultNum?t.defaultNum:opt.defaultNum,opt.disabled=t.disabled?t.disabled:opt.disabled,opt.field=t.field&&t.field.nodeName?t.field:opt.field,opt.fieldClass=t.fieldClass?t.fieldClass:opt.fieldClass,opt.min=t.min?t.min:opt.min,opt.max=t.max?t.max:opt.max,opt.readonly=t.readonly?t.readonly:opt.readonly,opt.step=t.step?t.step:opt.step,opt.onChange=t.onChange?t.onChange:opt.onChange,opt.onDecrement=t.onDecrement?t.onDecrement:opt.onDecrement,opt.onIncrement=t.onIncrement?t.onIncrement:opt.onIncrement,opt},decrement:function(){var t=this._o;this.setValue(this.getValue()-t.step,!1,this.notifyOnDecrement.bind(this))},increment:function(){var t=this._o;this.setValue(this.getValue()+t.step,!1,this.notifyOnIncrement.bind(this))},getValue:function(t){var n=this._o,e=n.field,o=parseInt(e.value);return isNaN(o)&&(o=n.defaultNum),o},setValue:function(t,n,e){var o=this._o,i=o.field;(o.min<0||o.min&&t>=o.min)&&(o.max<0||o.max&&t<=o.max)&&(i.value=t,n||this.notifyOnChange(t),"function"==typeof e&&e(t))},getSetValue:function(){this.setValue(this.getValue())},notifyOnChange:function(t){var n=this._o;"function"==typeof n.onChange&&n.onChange(t)},notifyOnDecrement:function(t){var n=this._o;"function"==typeof n.onDecrement&&n.onDecrement(t)},notifyOnIncrement:function(t){var n=this._o;"function"==typeof n.onIncrement&&n.onIncrement(t)},render:function(){var t=this._o,e=t.field,o=e.display;e.display="none";var s,l,r,c,d,m=(s=t.containerClass,(l=n.createElement("div")).className="pikanum-container ",s&&(l.className+=s),l);r=e,c=t,d=this.getSetValue.bind(this),r.className+=" pikanum-field "+c.fieldClass,i(r,d),!0===c.disabled&&r.setAttribute("disabled","disabled"),!0===c.readonly&&r.setAttribute("readonly","readonly"),c.min>-1&&r.setAttribute("min",c.min),c.max>-1&&r.setAttribute("max",c.max),r.setAttribute("step",c.step),(e=r).parentNode.insertBefore(m,e),m.appendChild(e);var u,f,p,h,C,y,b,v,g=(C=t.controlsSymbolDecrement,y=t.controlsClass,b=this.decrement.bind(this),v="pikanum-controls-dec ",y&&(v+=y),a(C,v,b)),N=(u=t.controlsSymbolIncrement,f=t.controlsClass,p=this.increment.bind(this),h="pikanum-controls-inc ",f&&(h+=f),a(u,h,p));e.parentNode.insertBefore(g,"after"===t.controlsLocation?e.nextSibling:e),e.parentNode.insertBefore(N,"after"===t.controlsLocation?e.nextSibling:e),e.display=o,this._container=m,this._dec=g,this._inc=N}},l});