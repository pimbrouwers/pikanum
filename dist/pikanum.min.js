!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof module&&module.exports?module.exports=t.Pikanum=e():t.Pikanum=e()}(this,function(t){var e=window.document,n=!!window.addEventListener,o={containerClass:null,controlsClass:null,controlsLocation:"after",defaultNum:0,disabled:!1,field:null,min:-1,max:-1,readonly:!1,step:1},i=function(t,e,o){n?t.addEventListener(e,o):t.attachEvent("on"+e,o)},s=function(t,e,o){n?t.removeEventListener(e,o):t.detachEvent("on"+e,o)},a=function(t,n,o){var s=e.createElement("div");s.innerHTML='<button type="button">'+t+"</button>";var a=s.firstChild;return a.className="pikanum-controls "+n,i(a,"click",o),a},l=function(t){this.config(t);this.init()};return l.prototype={constructor:l,init:function(){var t=this._o;t.field;this.setValue(t.defaultNum),this.render()},destroy:function(){s(this._dec,"click",this.decrement),s(this._inc,"click",this.increment),this._container.parentNode&&this._container.parentNode.removeChild(this._container)},config:function(t){return this._o=o,opt=this._o,opt.containerClass=t.containerClass?t.containerClass:opt.containerClass,opt.controlsClass=t.controlsClass?t.controlsClass:opt.controlsClass,opt.controlsLocation=t.controlsLocation?t.controlsLocation:opt.controlsLocation,opt.defaultNum=t.defaultNum?t.defaultNum:opt.defaultNum,opt.disabled=t.disabled?t.disabled:opt.disabled,opt.field=t.field&&t.field.nodeName?t.field:opt.field,opt.min=t.min?t.min:opt.min,opt.max=t.max?t.max:opt.max,opt.readonly=t.readonly?t.readonly:opt.readonly,opt.step=t.step?t.step:opt.step,opt},decrement:function(){var t=this._o;this.setValue(this.getValue()-t.step)},increment:function(){var t=this._o;this.setValue(this.getValue()+t.step)},getValue:function(t){var e=this._o,n=e.field,o=parseInt(n.value);return isNaN(o)&&(o=e.defaultNum),o},setValue:function(t){var e=this._o,n=e.field;(e.min<0||e.min&&t>=e.min)&&(e.max<0||e.max&&t<=e.max)&&(n.value=t)},getSetValue:function(){this.setValue(this.getValue())},render:function(){var t=this._o,n=t.field,o=n.display;n.display="none",i(n,"blur",this.getSetValue.bind(this));var s,l,r=(s=t.containerClass,(l=e.createElement("div")).className="pikanum-container ",s&&(l.className+=s),l);n.parentNode.insertBefore(r,n),r.appendChild(n);var c,d,u,p,m,f,h=(p=t.controlsClass,m=this.decrement.bind(this),f="pikanum-controls-dec ",p&&(f+=p),a("&minus;",f,m)),v=(c=t.controlsClass,d=this.increment.bind(this),u="pikanum-controls-inc ",c&&(u+=c),a("&plus;",u,d));n.parentNode.insertBefore(h,"after"===t.controlsLocation?n.nextSibling:n),n.parentNode.insertBefore(v,"after"===t.controlsLocation?n.nextSibling:n),n.display=o,this._container=r,this._dec=h,this._inc=v}},l});